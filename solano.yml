# solano.yml configuration file for Solano CI https://www.solanolabs.com/

# http://docs.solanolabs.com/ConfiguringLanguage/php/
php:
  version: '7.0' # Laravel requires PHP 5.6 or above
memcache: true # Enable memcached
redis:
  version: '3.0.2' # Enable redis
  
# Automatically run PHPUnit tests in parallel using solano-phpunit test runner
tests:
  - type: phpunit
    mode: parallel
    command: ./vendor/bin/solano-phpunit
    files:
      # Glob pattern determining test files to run
      - tests/**Test.php

# http://docs.solanolabs.com/Setup/setup-hooks/
hooks:
  pre_setup: composer install && composer require --dev solano/solano-phpunit:dev-phpunit_5_and_test_priority

# http://docs.solanolabs.com/Setup/caching-dependencies/
cache:
  key_paths:
    - composer.json
    - composer.lock
  save_paths:
    - vendor
